@prefix : <http://www.w3.org/2000/01/rdf-schema#> .
@prefix cc: <http://creativecommons.org/ns#> .
@prefix dcat: <http://www.w3.org/ns/dcat#> .
@prefix dct: <http://purl.org/dc/terms/> .
@prefix foaf: <http://xmlns.com/foaf/0.1/> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .

<${ h.url_for(controller='package',action='read',id=c.pkg_dict['name'], qualified=True)}>
a dcat:Dataset;
     dct:description """${c.pkg_dict['notes']}""";
{% for tag_dict in c.pkg_dict['tags'] %}\
     dct:keyword "${tag_dict['name']}";
{% end %}\
     dct:identifier "${c.pkg_dict['name']}";
{% for rsc_dict in c.pkg_dict['resources'] %}\
     dcat:distribution [ a dcat:Distribution ;
         dcat:accessURL <${rsc_dict['url']}>;
         dct:format [ a dct:IMT ;
             rdfs:value "${rsc_dict['format']}";
             rdfs:label "${rsc_dict['format']}"; 
         ] ;
{% if rsc_dict.get('name') %}\
         dct:title "${rsc_dict.get('name')}";
{% end %}\
     ];    
{% end %}
{% if c.pkg_dict.get('author', None) %}\
     dct:creator [
         foaf:name "${c.pkg_dict['author']}";
{% if c.pkg_dict.get('author_email', None) %}\
         foaf:mbox <mailto:${c.pkg_dict['author_email']}>;
{% end %}\
     ];
{% end %}\
{% if c.pkg_dict.get('maintainer', None) %}\
     dct:contributor [
         foaf:name "${c.pkg_dict['maintainer']}";
{% if c.pkg_dict.get('maintainer_email', None) %}\
         foaf:mbox <mailto:${c.pkg_dict['maintainer_email']}>;
{% end %}\
     ];
{% end %}\
{% if c.pkg_dict.get('license_url', None) %}\
     dct:rights <${c.pkg_dict['license_url']}>;
     cc:license <${c.pkg_dict['license_url']}>;
{% end %}\
{% for extra_dict in c.pkg_dict.get('extras', None) %}\
     dct:relation [
         rdfs:label "${extra_dict.get('key', '')}";
         rdf:value "${extra_dict.get('value', '')}";
     ];
{% end %}\
     dct:title "${c.pkg_dict['title']}";
     :label "${c.pkg_dict['name']}";
     = <urn:uuid:${c.pkg_dict['id']}>;
     foaf:homepage <${ h.url_for(controller='package',action='read',id=c.pkg_dict['name'], qualified=True)}> .
